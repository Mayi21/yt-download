# YouTube ä¸‹è½½å™¨æ¡Œé¢åº”ç”¨æŠ€æœ¯æ–¹æ¡ˆ

## ç›®å½•
- [é¡¹ç›®æ¦‚è¿°](#é¡¹ç›®æ¦‚è¿°)
- [æŠ€æœ¯æ ˆé€‰å‹](#æŠ€æœ¯æ ˆé€‰å‹)
- [é¡¹ç›®æ¶æ„è®¾è®¡](#é¡¹ç›®æ¶æ„è®¾è®¡)
- [æ ¸å¿ƒåŠŸèƒ½è®¾è®¡](#æ ¸å¿ƒåŠŸèƒ½è®¾è®¡)
- [æ¥å£å®šä¹‰](#æ¥å£å®šä¹‰)
- [å¹¶è¡Œå¼€å‘æŒ‡å—](#å¹¶è¡Œå¼€å‘æŒ‡å—)
- [å®æ–½è®¡åˆ’](#å®æ–½è®¡åˆ’)

---

## é¡¹ç›®æ¦‚è¿°

### ç›®æ ‡
åŸºäºç°æœ‰çš„ yt-dlp é¡¹ç›®ï¼Œå¼€å‘ä¸€ä¸ªè·¨å¹³å°çš„æ¡Œé¢åº”ç”¨ï¼Œæ”¯æŒ macOS å’Œ Windows ç³»ç»Ÿã€‚

### æ ¸å¿ƒéœ€æ±‚
- âœ… æ”¯æŒè¾“å…¥ YouTube é“¾æ¥
- âœ… å±•ç¤ºè§†é¢‘ä¿¡æ¯ï¼ˆæ ‡é¢˜ã€æ—¶é•¿ã€ç¼©ç•¥å›¾ç­‰ï¼‰
- âœ… å¯é€‰æ‹©è§†é¢‘æ ¼å¼ï¼ˆmp4ã€webmã€mkv ç­‰ï¼‰
- âœ… å¯é€‰æ‹©æ¸…æ™°åº¦ï¼ˆ4Kã€1080pã€720pã€480p ç­‰ï¼‰
- âœ… å®æ—¶æ˜¾ç¤ºä¸‹è½½è¿›åº¦
- âœ… å¯è§†åŒ–ç•Œé¢ï¼Œç”¨æˆ·ä½“éªŒå‹å¥½
- âœ… è·¨å¹³å°æ‰“åŒ…ï¼ˆ.app for macOS, .exe for Windowsï¼‰

---

## æŠ€æœ¯æ ˆé€‰å‹

### æ–¹æ¡ˆå¯¹æ¯”

#### 1. Python + PyQt6
**ä¼˜åŠ¿ï¼š**
- åŸç”Ÿé›†æˆ yt-dlp Python åº“
- è·¨å¹³å°æ”¯æŒ
- æ‰“åŒ…ç®€å•ï¼ˆPyInstallerï¼‰

**åŠ£åŠ¿ï¼š**
- âŒ UI ä¸å¤Ÿç°ä»£åŒ–
- âŒ æ‰“åŒ…ä½“ç§¯è¾ƒå¤§ï¼ˆ50MB+ï¼‰
- âŒ Python ä¾èµ–ç®¡ç†å¤æ‚

#### 2. Electron + React
**ä¼˜åŠ¿ï¼š**
- æœ€æˆç†Ÿçš„è·¨å¹³å°æ–¹æ¡ˆ
- Web æŠ€æœ¯æ ˆï¼Œå¼€å‘å¿«é€Ÿ
- ç”Ÿæ€å®Œå–„

**åŠ£åŠ¿ï¼š**
- âŒ ä½“ç§¯å·¨å¤§ï¼ˆ100MB+ï¼‰
- âŒ å†…å­˜å ç”¨é«˜
- âŒ å¯åŠ¨é€Ÿåº¦æ…¢

#### 3. Tauri + React â­ **æœ€ç»ˆé€‰æ‹©**
**ä¼˜åŠ¿ï¼š**
- âœ… ä½“ç§¯å°ï¼ˆ5-8MBï¼‰
- âœ… å†…å­˜å ç”¨ä½
- âœ… å¯åŠ¨é€Ÿåº¦å¿«
- âœ… å‰ç«¯ä½¿ç”¨ Reactï¼Œå¼€å‘ä½“éªŒå¥½
- âœ… Rust åç«¯å®‰å…¨æ€§é«˜
- âœ… å®Œç¾çš„è·¨å¹³å°æ”¯æŒ

**åŠ£åŠ¿ï¼š**
- éœ€è¦åŸºç¡€çš„ Rust çŸ¥è¯†ï¼ˆä½†å·²æœ‰æ¨¡æ¿ï¼‰

#### 4. Flutter Desktop
**ä¼˜åŠ¿ï¼š**
- å•ä¸€ä»£ç åº“
- æ€§èƒ½ä¼˜ç§€
- UI ç¾è§‚

**åŠ£åŠ¿ï¼š**
- âŒ éœ€è¦å­¦ä¹  Dart è¯­è¨€
- âŒ æ¡Œé¢ç«¯ç”Ÿæ€ç›¸å¯¹ä¸æˆç†Ÿ

### æœ€ç»ˆé€‰å‹ï¼šTauri + React + TypeScript

**ç†ç”±ï¼š**
1. **ä½“ç§¯ä¼˜åŠ¿**ï¼šä»… 5-8MBï¼ˆElectron çš„ 1/15ï¼‰
2. **æ€§èƒ½ä¼˜è¶Š**ï¼šå†…å­˜å ç”¨çº¦ Electron çš„ 1/3
3. **å¼€å‘ä½“éªŒ**ï¼šå‰ç«¯ä½¿ç”¨ç†Ÿæ‚‰çš„ React æŠ€æœ¯æ ˆ
4. **æ˜“äºç»´æŠ¤**ï¼šTypeScript æä¾›ç±»å‹å®‰å…¨
5. **å®Œç¾è·¨å¹³å°**ï¼šmacOS å’Œ Windows åŸç”Ÿæ”¯æŒ
6. **æ˜“äºé›†æˆ**ï¼šé€šè¿‡å‘½ä»¤è¡Œè°ƒç”¨ yt-dlp

---

## é¡¹ç›®æ¶æ„è®¾è®¡

### ç›®å½•ç»“æ„

```
yt-dlp-desktop/
â”œâ”€â”€ src/                          # å‰ç«¯ä»£ç ï¼ˆReact + TypeScriptï¼‰
â”‚   â”œâ”€â”€ App.tsx                   # ä¸»ç»„ä»¶
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ UrlInput.tsx          # URL è¾“å…¥æ¡†
â”‚   â”‚   â”œâ”€â”€ VideoInfo.tsx         # è§†é¢‘ä¿¡æ¯å±•ç¤º
â”‚   â”‚   â”œâ”€â”€ FormatSelector.tsx    # æ ¼å¼/æ¸…æ™°åº¦é€‰æ‹©
â”‚   â”‚   â”œâ”€â”€ DownloadProgress.tsx  # ä¸‹è½½è¿›åº¦æ¡
â”‚   â”‚   â””â”€â”€ DownloadHistory.tsx   # ä¸‹è½½å†å²
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ api.ts                # Tauri API è°ƒç”¨
â”‚   â”‚   â””â”€â”€ mock.ts               # Mock æ•°æ®ï¼ˆå¼€å‘ç”¨ï¼‰
â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â”œâ”€â”€ index.ts              # TypeScript ç±»å‹å®šä¹‰
â”‚   â”‚   â””â”€â”€ commands.ts           # Tauri Commands ç±»å‹
â”‚   â”œâ”€â”€ styles/
â”‚   â”‚   â””â”€â”€ App.css               # å…¨å±€æ ·å¼
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â””â”€â”€ helpers.ts            # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ main.tsx                  # å…¥å£æ–‡ä»¶
â”‚
â”œâ”€â”€ src-tauri/                    # Rust åç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ main.rs               # ä¸»å…¥å£
â”‚   â”‚   â”œâ”€â”€ commands.rs           # Tauri Commands
â”‚   â”‚   â”œâ”€â”€ ytdlp.rs              # yt-dlp å°è£…æ¨¡å—
â”‚   â”‚   â””â”€â”€ utils.rs              # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ Cargo.toml                # Rust ä¾èµ–é…ç½®
â”‚   â”œâ”€â”€ tauri.conf.json           # Tauri åº”ç”¨é…ç½®
â”‚   â””â”€â”€ icons/                    # åº”ç”¨å›¾æ ‡
â”‚       â”œâ”€â”€ icon.icns             # macOS å›¾æ ‡
â”‚       â”œâ”€â”€ icon.ico              # Windows å›¾æ ‡
â”‚       â””â”€â”€ icon.png              # é€šç”¨å›¾æ ‡
â”‚
â”œâ”€â”€ public/                       # é™æ€èµ„æº
â”‚   â””â”€â”€ vite.svg
â”‚
â”œâ”€â”€ package.json                  # Node.js ä¾èµ–
â”œâ”€â”€ tsconfig.json                 # TypeScript é…ç½®
â”œâ”€â”€ vite.config.ts                # Vite æ„å»ºé…ç½®
â”œâ”€â”€ tailwind.config.js            # TailwindCSS é…ç½®
â”œâ”€â”€ .env.development              # å¼€å‘ç¯å¢ƒå˜é‡
â”œâ”€â”€ .env.production               # ç”Ÿäº§ç¯å¢ƒå˜é‡
â””â”€â”€ README.md                     # é¡¹ç›®è¯´æ˜
```

### æŠ€æœ¯æ ˆè¯¦ç»†è¯´æ˜

#### å‰ç«¯
- **React 18** - UI æ¡†æ¶
- **TypeScript** - ç±»å‹å®‰å…¨
- **Vite** - æ„å»ºå·¥å…·ï¼ˆå¿«é€Ÿçƒ­é‡è½½ï¼‰
- **TailwindCSS** - æ ·å¼æ¡†æ¶
- **@tauri-apps/api** - Tauri å‰ç«¯ API
- **React Hooks** - çŠ¶æ€ç®¡ç†

#### åç«¯
- **Rust** - Tauri åç«¯è¯­è¨€
- **Tauri** - è·¨å¹³å°æ¡†æ¶
- **serde** - JSON åºåˆ—åŒ–
- **tokio** - å¼‚æ­¥è¿è¡Œæ—¶
- **yt-dlp** - é€šè¿‡å‘½ä»¤è¡Œè°ƒç”¨

#### å¼€å‘å·¥å…·
- **ESLint** - ä»£ç æ£€æŸ¥
- **Prettier** - ä»£ç æ ¼å¼åŒ–
- **Cargo** - Rust åŒ…ç®¡ç†å™¨
- **npm/pnpm** - Node.js åŒ…ç®¡ç†å™¨

---

## æ ¸å¿ƒåŠŸèƒ½è®¾è®¡

### 1. URL è¾“å…¥åŒºåŸŸ

**ç»„ä»¶ï¼š** `UrlInput.tsx`

**åŠŸèƒ½ï¼š**
- è¾“å…¥æ¡†æ”¯æŒç²˜è´´ YouTube é“¾æ¥
- URL æ ¼å¼éªŒè¯ï¼ˆæ”¯æŒå¤šç§ YouTube URL æ ¼å¼ï¼‰
- "è·å–ä¿¡æ¯" æŒ‰é’®
- åŠ è½½çŠ¶æ€æ˜¾ç¤ºï¼ˆSpinnerï¼‰
- é”™è¯¯æç¤º

**UI è®¾è®¡ï¼š**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”— ç²˜è´´ YouTube é“¾æ¥                        â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ https://www.youtube.com/watch?v=...    â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                              [è·å–ä¿¡æ¯ â†’]    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. è§†é¢‘ä¿¡æ¯å±•ç¤º

**ç»„ä»¶ï¼š** `VideoInfo.tsx`

**å±•ç¤ºå†…å®¹ï¼š**
- è§†é¢‘ç¼©ç•¥å›¾ï¼ˆå¯ç‚¹å‡»é¢„è§ˆï¼‰
- è§†é¢‘æ ‡é¢˜
- è§†é¢‘æ—¶é•¿
- ä¸Šä¼ è€…åç§°
- ä¸Šä¼ æ—¥æœŸ
- è§†é¢‘æè¿°ï¼ˆå¯æŠ˜å ï¼‰
- è§‚çœ‹æ¬¡æ•°

**UI è®¾è®¡ï¼š**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  æ ‡é¢˜: Amazing Video             â”‚
â”‚ â”‚        â”‚  æ—¶é•¿: 10:25                      â”‚
â”‚ â”‚ ç¼©ç•¥å›¾ â”‚  ä¸Šä¼ è€…: Channel Name             â”‚
â”‚ â”‚        â”‚  æ—¥æœŸ: 2024-01-15                 â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  è§‚çœ‹: 1.2M views                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. æ ¼å¼é€‰æ‹©å™¨

**ç»„ä»¶ï¼š** `FormatSelector.tsx`

**é€‰é¡¹ï¼š**

**æ¸…æ™°åº¦é€‰æ‹©ï¼š**
- âš¡ 4K (2160p)
- ğŸ¬ 1080pï¼ˆæ¨èï¼‰
- ğŸ“º 720p
- ğŸ“± 480p
- ğŸ”½ 360p

**æ ¼å¼é€‰æ‹©ï¼š**
- MP4ï¼ˆæ¨èï¼‰
- WebM
- MKV

**ç‰¹æ®Šé€‰é¡¹ï¼š**
- [ ] ä»…éŸ³é¢‘ï¼ˆæœ€ä½³éŸ³è´¨ï¼‰
- [ ] åŒ…å«å­—å¹•

**UI è®¾è®¡ï¼š**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ¸…æ™°åº¦                                       â”‚
â”‚ (â€¢) 1080p  ( ) 720p  ( ) 480p  ( ) 360p    â”‚
â”‚                                              â”‚
â”‚ æ ¼å¼                                         â”‚
â”‚ â–¼ MP4       â–¼                                â”‚
â”‚                                              â”‚
â”‚ â˜ ä»…éŸ³é¢‘    â˜ åŒ…å«å­—å¹•                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4. ä¿å­˜è·¯å¾„é€‰æ‹©

**åŠŸèƒ½ï¼š**
- æ˜¾ç¤ºå½“å‰ä¿å­˜è·¯å¾„
- "æµè§ˆ" æŒ‰é’®æ‰“å¼€æ–‡ä»¶é€‰æ‹©å™¨
- é»˜è®¤è·¯å¾„ï¼šç”¨æˆ·ä¸‹è½½æ–‡ä»¶å¤¹

**UI è®¾è®¡ï¼š**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ä¿å­˜ä½ç½®                                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚ â”‚ /Users/username/Downloads           â”‚[ğŸ“] â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5. ä¸‹è½½è¿›åº¦

**ç»„ä»¶ï¼š** `DownloadProgress.tsx`

**æ˜¾ç¤ºå†…å®¹ï¼š**
- è¿›åº¦æ¡ï¼ˆ0-100%ï¼‰
- ä¸‹è½½é€Ÿåº¦ï¼ˆMB/sï¼‰
- å·²ä¸‹è½½/æ€»å¤§å°ï¼ˆ125MB / 500MBï¼‰
- é¢„è®¡å‰©ä½™æ—¶é—´ï¼ˆETAï¼‰
- å½“å‰çŠ¶æ€ï¼ˆå‡†å¤‡ä¸­/ä¸‹è½½ä¸­/åˆå¹¶ä¸­/å®Œæˆï¼‰

**æ§åˆ¶æŒ‰é’®ï¼š**
- â¸ï¸ æš‚åœ
- â–¶ï¸ ç»§ç»­
- âŒ å–æ¶ˆ

**UI è®¾è®¡ï¼š**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ä¸‹è½½ä¸­...                                    â”‚
â”‚ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 65%         â”‚
â”‚                                              â”‚
â”‚ é€Ÿåº¦: 2.5 MB/s                               â”‚
â”‚ å·²ä¸‹è½½: 325MB / 500MB                        â”‚
â”‚ å‰©ä½™æ—¶é—´: 1 åˆ† 15 ç§’                         â”‚
â”‚                                              â”‚
â”‚      [â¸ï¸ æš‚åœ]  [âŒ å–æ¶ˆ]                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6. ä¸‹è½½å†å²

**ç»„ä»¶ï¼š** `DownloadHistory.tsx`

**åŠŸèƒ½ï¼š**
- æ˜¾ç¤ºæœ€è¿‘ä¸‹è½½çš„è§†é¢‘åˆ—è¡¨
- æ”¯æŒé‡æ–°ä¸‹è½½
- æ”¯æŒæ‰“å¼€æ–‡ä»¶ä½ç½®
- æ”¯æŒæ¸…ç©ºå†å²

---

## æ¥å£å®šä¹‰

### TypeScript ç±»å‹å®šä¹‰

```typescript
// src/types/index.ts

/**
 * è§†é¢‘ä¿¡æ¯
 */
export interface VideoInfo {
  id: string;                    // è§†é¢‘ ID
  title: string;                 // æ ‡é¢˜
  duration: number;              // æ—¶é•¿ï¼ˆç§’ï¼‰
  thumbnail: string;             // ç¼©ç•¥å›¾ URL
  uploader: string;              // ä¸Šä¼ è€…
  upload_date: string;           // ä¸Šä¼ æ—¥æœŸ (YYYYMMDD)
  description: string;           // æè¿°
  view_count: number;            // è§‚çœ‹æ¬¡æ•°
  formats: VideoFormat[];        // å¯ç”¨æ ¼å¼åˆ—è¡¨
}

/**
 * è§†é¢‘æ ¼å¼
 */
export interface VideoFormat {
  format_id: string;             // æ ¼å¼ ID
  ext: string;                   // æ‰©å±•å (mp4, webm, mkv)
  resolution: string;            // åˆ†è¾¨ç‡ (1920x1080)
  quality_label: string;         // æ¸…æ™°åº¦æ ‡ç­¾ (1080p, 720p)
  filesize: number | null;       // æ–‡ä»¶å¤§å°ï¼ˆå­—èŠ‚ï¼‰
  fps: number;                   // å¸§ç‡
  vcodec: string;                // è§†é¢‘ç¼–ç 
  acodec: string;                // éŸ³é¢‘ç¼–ç 
  tbr: number;                   // æ¯”ç‰¹ç‡
  format_note: string;           // æ ¼å¼è¯´æ˜
}

/**
 * ä¸‹è½½è¿›åº¦
 */
export interface DownloadProgress {
  status: 'downloading' | 'processing' | 'finished' | 'error';
  percent: number;               // è¿›åº¦ç™¾åˆ†æ¯” (0-100)
  speed: number;                 // ä¸‹è½½é€Ÿåº¦ï¼ˆbytes/sï¼‰
  eta: number;                   // é¢„è®¡å‰©ä½™æ—¶é—´ï¼ˆç§’ï¼‰
  downloaded: number;            // å·²ä¸‹è½½å­—èŠ‚æ•°
  total: number;                 // æ€»å­—èŠ‚æ•°
  filename: string;              // æ–‡ä»¶å
}

/**
 * ä¸‹è½½é…ç½®
 */
export interface DownloadConfig {
  url: string;                   // è§†é¢‘ URL
  format_id: string;             // é€‰æ‹©çš„æ ¼å¼ ID
  output_path: string;           // è¾“å‡ºè·¯å¾„
  audio_only: boolean;           // æ˜¯å¦ä»…ä¸‹è½½éŸ³é¢‘
  include_subtitles: boolean;    // æ˜¯å¦åŒ…å«å­—å¹•
}

/**
 * ä¸‹è½½ç»“æœ
 */
export interface DownloadResult {
  success: boolean;
  file_path: string;
  error?: string;
}

/**
 * ä¸‹è½½å†å²è®°å½•
 */
export interface DownloadHistoryItem {
  id: string;
  title: string;
  url: string;
  file_path: string;
  download_date: string;
  thumbnail: string;
}
```

### Tauri Commands æ¥å£

```typescript
// src/types/commands.ts

/**
 * Tauri åç«¯å‘½ä»¤æ¥å£
 */
export interface TauriCommands {
  /**
   * è·å–è§†é¢‘ä¿¡æ¯
   * @param url YouTube è§†é¢‘ URL
   * @returns è§†é¢‘ä¿¡æ¯å¯¹è±¡
   */
  get_video_info(url: string): Promise<VideoInfo>;

  /**
   * åˆ—å‡ºå¯ç”¨æ ¼å¼
   * @param url YouTube è§†é¢‘ URL
   * @returns æ ¼å¼åˆ—è¡¨
   */
  list_formats(url: string): Promise<VideoFormat[]>;

  /**
   * å¼€å§‹ä¸‹è½½
   * @param config ä¸‹è½½é…ç½®
   * @returns ä¸‹è½½ä»»åŠ¡ ID
   */
  start_download(config: DownloadConfig): Promise<string>;

  /**
   * å–æ¶ˆä¸‹è½½
   * @param download_id ä¸‹è½½ä»»åŠ¡ ID
   */
  cancel_download(download_id: string): Promise<void>;

  /**
   * é€‰æ‹©ä¿å­˜è·¯å¾„
   * @returns é€‰æ‹©çš„è·¯å¾„ï¼Œå¦‚æœå–æ¶ˆåˆ™è¿”å› null
   */
  select_save_path(): Promise<string | null>;

  /**
   * è·å–ä¸‹è½½å†å²
   * @returns å†å²è®°å½•åˆ—è¡¨
   */
  get_download_history(): Promise<DownloadHistoryItem[]>;

  /**
   * æ¸…ç©ºä¸‹è½½å†å²
   */
  clear_download_history(): Promise<void>;

  /**
   * æ‰“å¼€æ–‡ä»¶ä½ç½®
   * @param file_path æ–‡ä»¶è·¯å¾„
   */
  open_file_location(file_path: string): Promise<void>;
}
```

### Rust Command å®ç°ç¤ºä¾‹

```rust
// src-tauri/src/commands.rs

use serde::{Deserialize, Serialize};
use tauri::command;

#[derive(Debug, Serialize, Deserialize)]
pub struct VideoInfo {
    pub id: String,
    pub title: String,
    pub duration: u32,
    pub thumbnail: String,
    pub uploader: String,
    pub upload_date: String,
    pub description: String,
    pub view_count: u64,
    pub formats: Vec<VideoFormat>,
}

#[derive(Debug, Serialize, Deserialize)]
pub struct VideoFormat {
    pub format_id: String,
    pub ext: String,
    pub resolution: String,
    pub quality_label: String,
    pub filesize: Option<u64>,
    pub fps: u32,
    pub vcodec: String,
    pub acodec: String,
    pub tbr: f64,
    pub format_note: String,
}

/// è·å–è§†é¢‘ä¿¡æ¯
#[command]
pub async fn get_video_info(url: String) -> Result<VideoInfo, String> {
    crate::ytdlp::get_video_info(&url).await
}

/// å¼€å§‹ä¸‹è½½
#[command]
pub async fn start_download(
    config: DownloadConfig,
    window: tauri::Window,
) -> Result<String, String> {
    crate::ytdlp::download_video(config, window).await
}

/// é€‰æ‹©ä¿å­˜è·¯å¾„
#[command]
pub async fn select_save_path() -> Result<Option<String>, String> {
    use tauri::api::dialog::blocking::FileDialogBuilder;

    Ok(FileDialogBuilder::new()
        .set_title("é€‰æ‹©ä¿å­˜ä½ç½®")
        .pick_folder()
        .map(|p| p.to_string_lossy().to_string()))
}
```

### Mock æ•°æ®ç¤ºä¾‹

```typescript
// src/services/mock.ts

export const mockVideoInfo: VideoInfo = {
  id: 'dQw4w9WgXcQ',
  title: 'Rick Astley - Never Gonna Give You Up (Official Video)',
  duration: 212,
  thumbnail: 'https://i.ytimg.com/vi/dQw4w9WgXcQ/maxresdefault.jpg',
  uploader: 'Rick Astley',
  upload_date: '20091025',
  description: 'The official video for "Never Gonna Give You Up"...',
  view_count: 1400000000,
  formats: [
    {
      format_id: '137',
      ext: 'mp4',
      resolution: '1920x1080',
      quality_label: '1080p',
      filesize: 52428800,
      fps: 30,
      vcodec: 'avc1.640028',
      acodec: 'mp4a.40.2',
      tbr: 2500,
      format_note: 'DASH video'
    },
    {
      format_id: '136',
      ext: 'mp4',
      resolution: '1280x720',
      quality_label: '720p',
      filesize: 32428800,
      fps: 30,
      vcodec: 'avc1.4d401f',
      acodec: 'mp4a.40.2',
      tbr: 1500,
      format_note: 'DASH video'
    },
    // ...æ›´å¤šæ ¼å¼
  ]
};

/**
 * æ¨¡æ‹Ÿä¸‹è½½è¿›åº¦
 */
export function mockDownloadProgress(
  callback: (progress: DownloadProgress) => void
): () => void {
  let percent = 0;
  const interval = setInterval(() => {
    percent += Math.random() * 5 + 2; // æ¯æ¬¡å¢åŠ  2-7%

    if (percent >= 100) {
      percent = 100;
      callback({
        status: 'finished',
        percent: 100,
        speed: 0,
        eta: 0,
        downloaded: 52428800,
        total: 52428800,
        filename: 'video.mp4'
      });
      clearInterval(interval);
      return;
    }

    callback({
      status: 'downloading',
      percent,
      speed: 1024 * 1024 * (2 + Math.random()), // 2-3 MB/s
      eta: Math.floor((100 - percent) * 0.8),
      downloaded: Math.floor(52428800 * percent / 100),
      total: 52428800,
      filename: 'video.mp4'
    });
  }, 500);

  // è¿”å›æ¸…ç†å‡½æ•°
  return () => clearInterval(interval);
}
```

---

## å¹¶è¡Œå¼€å‘æŒ‡å—

### å¼€å‘æµç¨‹

```
Step 1: å®šä¹‰æ¥å£å¥‘çº¦ï¼ˆ1 å°æ—¶ï¼‰
    â†“
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â†“             â†“             â†“             â†“
å‰ç«¯å¼€å‘      åç«¯å¼€å‘      UI/UXè®¾è®¡    æ–‡æ¡£ç¼–å†™
(ä½¿ç”¨Mock)   (ç‹¬ç«‹æµ‹è¯•)   (è®¾è®¡è§„èŒƒ)   (APIæ–‡æ¡£)
  â†“             â†“             â†“             â†“
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“
          é›†æˆæµ‹è¯•
              â†“
          ä¼˜åŒ–æ‰“åŒ…
```

### å‰ç«¯å¼€å‘æŒ‡å—

#### ç¯å¢ƒé…ç½®

```bash
# å…‹éš†é¡¹ç›®
git clone <repository>
cd yt-dlp-desktop

# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼ˆä½¿ç”¨ Mock æ•°æ®ï¼‰
npm run dev
```

#### ä½¿ç”¨ Mock æ•°æ®å¼€å‘

åˆ›å»º `.env.development` æ–‡ä»¶ï¼š
```env
VITE_USE_MOCK=true
```

API è°ƒç”¨å±‚è‡ªåŠ¨åˆ‡æ¢ï¼š
```typescript
// src/services/api.ts
import { invoke } from '@tauri-apps/api/tauri';
import { mockVideoInfo, mockDownloadProgress } from './mock';

const USE_MOCK = import.meta.env.VITE_USE_MOCK === 'true';

export async function getVideoInfo(url: string): Promise<VideoInfo> {
  if (USE_MOCK) {
    console.log('[Mock] Getting video info for:', url);
    await delay(1000); // æ¨¡æ‹Ÿç½‘ç»œå»¶è¿Ÿ
    return mockVideoInfo;
  }
  return invoke('get_video_info', { url });
}

export function startDownload(
  config: DownloadConfig,
  onProgress: (progress: DownloadProgress) => void
): () => void {
  if (USE_MOCK) {
    console.log('[Mock] Starting download:', config);
    return mockDownloadProgress(onProgress);
  }

  // çœŸå®å®ç°ï¼šä½¿ç”¨ Tauri Event ç›‘å¬è¿›åº¦
  const unlisten = listen('download-progress', (event) => {
    onProgress(event.payload as DownloadProgress);
  });

  invoke('start_download', { config });

  return unlisten;
}

const delay = (ms: number) => new Promise(resolve => setTimeout(resolve, ms));
```

#### å‰ç«¯å¼€å‘ä»»åŠ¡æ¸…å•

- [ ] URL è¾“å…¥ç»„ä»¶ï¼ˆåŒ…å«éªŒè¯ï¼‰
- [ ] è§†é¢‘ä¿¡æ¯å±•ç¤ºç»„ä»¶
- [ ] æ ¼å¼é€‰æ‹©å™¨ç»„ä»¶
- [ ] ä¸‹è½½è¿›åº¦ç»„ä»¶
- [ ] ä¿å­˜è·¯å¾„é€‰æ‹©
- [ ] ä¸‹è½½å†å²åˆ—è¡¨
- [ ] é”™è¯¯æç¤º Toast
- [ ] å“åº”å¼å¸ƒå±€
- [ ] æ·±è‰²æ¨¡å¼æ”¯æŒ
- [ ] çŠ¶æ€ç®¡ç†ï¼ˆReact Context/Zustandï¼‰

### åç«¯å¼€å‘æŒ‡å—

#### ç¯å¢ƒé…ç½®

```bash
# å®‰è£… Rust (å¦‚æœæœªå®‰è£…)
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh

# å®‰è£… Tauri CLI
cargo install tauri-cli

# æ„å»ºåç«¯
cd src-tauri
cargo build

# è¿è¡Œæµ‹è¯•
cargo test
```

#### å•å…ƒæµ‹è¯•å¼€å‘

```rust
// src-tauri/src/ytdlp.rs

#[cfg(test)]
mod tests {
    use super::*;

    #[tokio::test]
    async fn test_get_video_info() {
        let url = "https://www.youtube.com/watch?v=dQw4w9WgXcQ";
        let result = get_video_info(url).await;

        assert!(result.is_ok());
        let info = result.unwrap();
        assert!(!info.title.is_empty());
        assert!(info.duration > 0);
    }

    #[tokio::test]
    async fn test_invalid_url() {
        let url = "https://invalid-url.com";
        let result = get_video_info(url).await;

        assert!(result.is_err());
    }

    #[tokio::test]
    async fn test_download_flow() {
        // æµ‹è¯•å®Œæ•´çš„ä¸‹è½½æµç¨‹
        let config = DownloadConfig {
            url: "https://www.youtube.com/watch?v=test".to_string(),
            format_id: "137".to_string(),
            output_path: "/tmp/test.mp4".to_string(),
            audio_only: false,
            include_subtitles: false,
        };

        // è¿™é‡Œå¯ä»¥ä½¿ç”¨æµ‹è¯•ç”¨çš„çŸ­è§†é¢‘
        // let result = download_video(config).await;
        // assert!(result.is_ok());
    }
}
```

#### åç«¯å¼€å‘ä»»åŠ¡æ¸…å•

- [ ] yt-dlp å‘½ä»¤æ‰§è¡Œå°è£…
- [ ] è§†é¢‘ä¿¡æ¯è§£æï¼ˆJSON è¾“å‡ºï¼‰
- [ ] æ ¼å¼åˆ—è¡¨æå–å’Œè¿‡æ»¤
- [ ] ä¸‹è½½è¿›åº¦å®æ—¶è§£æ
- [ ] æ–‡ä»¶ç³»ç»Ÿæ“ä½œï¼ˆä¿å­˜ã€ç§»åŠ¨ï¼‰
- [ ] ä¸‹è½½ä»»åŠ¡ç®¡ç†ï¼ˆæš‚åœã€å–æ¶ˆï¼‰
- [ ] é”™è¯¯å¤„ç†å’Œæ—¥å¿—è®°å½•
- [ ] è·¨å¹³å°å…¼å®¹æ€§ï¼ˆmacOS/Windowsï¼‰
- [ ] å•å…ƒæµ‹è¯•è¦†ç›–

### UI/UX è®¾è®¡æŒ‡å—

#### è®¾è®¡è§„èŒƒ

**è‰²å½©æ–¹æ¡ˆï¼š**
```css
/* ä¸»è‰²è°ƒ */
--primary: #3B82F6;      /* è“è‰² */
--primary-hover: #2563EB;
--success: #10B981;       /* ç»¿è‰² */
--error: #EF4444;         /* çº¢è‰² */
--warning: #F59E0B;       /* æ©™è‰² */

/* ä¸­æ€§è‰² */
--bg-primary: #FFFFFF;
--bg-secondary: #F9FAFB;
--text-primary: #111827;
--text-secondary: #6B7280;
--border: #E5E7EB;

/* æ·±è‰²æ¨¡å¼ */
--dark-bg-primary: #1F2937;
--dark-bg-secondary: #111827;
--dark-text-primary: #F9FAFB;
--dark-text-secondary: #9CA3AF;
--dark-border: #374151;
```

**å­—ä½“ï¼š**
- æ ‡é¢˜ï¼šInter, -apple-system, system-ui
- æ­£æ–‡ï¼š-apple-system, BlinkMacSystemFont, "Segoe UI"
- ä»£ç ï¼šMenlo, Monaco, "Courier New"

**é—´è·ï¼š**
- å°ï¼š8px
- ä¸­ï¼š16px
- å¤§ï¼š24px
- è¶…å¤§ï¼š32px

#### è®¾è®¡äº¤ä»˜ç‰©

- [ ] ä¸»ç•Œé¢è®¾è®¡ç¨¿ï¼ˆFigma/Sketchï¼‰
- [ ] æ·±è‰²æ¨¡å¼è®¾è®¡ç¨¿
- [ ] åº”ç”¨å›¾æ ‡ï¼ˆ1024x1024 PNGï¼‰
- [ ] çŠ¶æ€å›¾æ ‡ï¼ˆè¿›åº¦ã€é”™è¯¯ã€æˆåŠŸç­‰ï¼‰
- [ ] äº¤äº’æµç¨‹å›¾
- [ ] ç»„ä»¶åº“æ–‡æ¡£

### é›†æˆæµ‹è¯•æ¸…å•

å½“å‰åç«¯å¼€å‘å®Œæˆåï¼Œè¿›è¡Œé›†æˆæµ‹è¯•ï¼š

#### åŠŸèƒ½æµ‹è¯•
- [ ] URL è¾“å…¥å’ŒéªŒè¯
- [ ] è§†é¢‘ä¿¡æ¯è·å–ï¼ˆå¤šç§ URL æ ¼å¼ï¼‰
- [ ] æ ¼å¼åˆ—è¡¨æ˜¾ç¤ºæ­£ç¡®
- [ ] æ¸…æ™°åº¦é€‰æ‹©ç”Ÿæ•ˆ
- [ ] ä¸‹è½½è¿›åº¦å®æ—¶æ›´æ–°
- [ ] æš‚åœ/æ¢å¤åŠŸèƒ½
- [ ] å–æ¶ˆä¸‹è½½åŠŸèƒ½
- [ ] æ–‡ä»¶ä¿å­˜åˆ°æŒ‡å®šä½ç½®
- [ ] ä¸‹è½½å®Œæˆé€šçŸ¥
- [ ] ä¸‹è½½å†å²è®°å½•

#### å¼‚å¸¸å¤„ç†æµ‹è¯•
- [ ] æ— æ•ˆ URL é”™è¯¯æç¤º
- [ ] ç½‘ç»œæ–­å¼€é‡è¯•æœºåˆ¶
- [ ] ç£ç›˜ç©ºé—´ä¸è¶³æç¤º
- [ ] æƒé™ä¸è¶³é”™è¯¯å¤„ç†
- [ ] å¹¶å‘ä¸‹è½½é™åˆ¶

#### æ€§èƒ½æµ‹è¯•
- [ ] å¤§æ–‡ä»¶ä¸‹è½½ï¼ˆ4K è§†é¢‘ï¼‰
- [ ] å¤šä»»åŠ¡å¹¶å‘ä¸‹è½½
- [ ] å†…å­˜å ç”¨ç›‘æ§
- [ ] CPU ä½¿ç”¨ç‡ç›‘æ§

#### è·¨å¹³å°æµ‹è¯•
- [ ] macOS 10.15+ å…¼å®¹æ€§
- [ ] Windows 10+ å…¼å®¹æ€§
- [ ] é«˜ DPI å±å¹•æ˜¾ç¤º
- [ ] æ·±è‰²æ¨¡å¼é€‚é…

---

## å®æ–½è®¡åˆ’

### æ—¶é—´çº¿ï¼ˆå¹¶è¡Œå¼€å‘ï¼‰

#### Week 1: é¡¹ç›®åˆå§‹åŒ–å’Œæ¥å£å®šä¹‰

**Day 1-2: é¡¹ç›®æ­å»º**
- [x] åˆ›å»º Tauri + React é¡¹ç›®
- [x] é…ç½® TypeScript
- [x] é…ç½® TailwindCSS
- [x] è®¾ç½®é¡¹ç›®ç›®å½•ç»“æ„
- [x] é…ç½® Git ä»“åº“

**Day 3: æ¥å£å®šä¹‰ï¼ˆå…¨å‘˜å‚ä¸ï¼‰**
- [x] å®šä¹‰ TypeScript ç±»å‹
- [x] å®šä¹‰ Tauri Commands
- [x] ç¼–å†™ Mock æ•°æ®
- [x] API æ–‡æ¡£ç¼–å†™

**Day 4-5: ç¯å¢ƒé…ç½®**
- [ ] ä¸‹è½½ yt-dlp äºŒè¿›åˆ¶æ–‡ä»¶
- [ ] é…ç½® Rust ä¾èµ–
- [ ] é…ç½®æ‰“åŒ…è„šæœ¬
- [ ] è®¾ç½® CI/CDï¼ˆå¯é€‰ï¼‰

---

#### Week 2: å¹¶è¡Œå¼€å‘é˜¶æ®µ

**å‰ç«¯å›¢é˜Ÿï¼š**
- [x] URL è¾“å…¥ç»„ä»¶ï¼ˆMock æ•°æ®ï¼‰
- [ ] è§†é¢‘ä¿¡æ¯å±•ç¤ºç»„ä»¶
- [ ] æ ¼å¼é€‰æ‹©å™¨ç»„ä»¶
- [ ] ä¿å­˜è·¯å¾„é€‰æ‹©
- [ ] åŸºç¡€æ ·å¼å’Œå¸ƒå±€

**åç«¯å›¢é˜Ÿï¼š**
- [ ] yt-dlp å‘½ä»¤å°è£…
- [ ] è§†é¢‘ä¿¡æ¯è·å– Command
- [ ] æ ¼å¼åˆ—è¡¨æå–
- [ ] å•å…ƒæµ‹è¯•ç¼–å†™

**UI/UX å›¢é˜Ÿï¼š**
- [ ] ä¸»ç•Œé¢è®¾è®¡ç¨¿
- [ ] å›¾æ ‡è®¾è®¡
- [ ] äº¤äº’æµç¨‹è®¾è®¡

---

#### Week 3: æ ¸å¿ƒåŠŸèƒ½å¼€å‘

**å‰ç«¯å›¢é˜Ÿï¼š**
- [ ] ä¸‹è½½è¿›åº¦ç»„ä»¶
- [ ] ä¸‹è½½å†å²åˆ—è¡¨
- [ ] é”™è¯¯æç¤ºç³»ç»Ÿ
- [ ] çŠ¶æ€ç®¡ç†é›†æˆ
- [ ] å“åº”å¼å¸ƒå±€ä¼˜åŒ–

**åç«¯å›¢é˜Ÿï¼š**
- [ ] ä¸‹è½½åŠŸèƒ½ Command
- [ ] è¿›åº¦è§£æå’Œäº‹ä»¶å‘é€
- [ ] æš‚åœ/å–æ¶ˆåŠŸèƒ½
- [ ] æ–‡ä»¶ç³»ç»Ÿæ“ä½œ
- [ ] é”™è¯¯å¤„ç†

---

#### Week 4: é›†æˆå’Œä¼˜åŒ–

**Day 1-2: é›†æˆæµ‹è¯•**
- [ ] å‰åç«¯ API å¯¹æ¥
- [ ] åŠŸèƒ½æµ‹è¯•
- [ ] Bug ä¿®å¤

**Day 3-4: ä¼˜åŒ–**
- [ ] æ€§èƒ½ä¼˜åŒ–
- [ ] UI ç»†èŠ‚è°ƒæ•´
- [ ] é”™è¯¯å¤„ç†å®Œå–„
- [ ] ç”¨æˆ·ä½“éªŒä¼˜åŒ–

**Day 5: æ‰“åŒ…æµ‹è¯•**
- [ ] macOS æ‰“åŒ…æµ‹è¯•
- [ ] Windows æ‰“åŒ…æµ‹è¯•
- [ ] å®‰è£…åŒ…æµ‹è¯•

---

#### Week 5: æµ‹è¯•å’Œå‘å¸ƒ

**Day 1-3: å…¨é¢æµ‹è¯•**
- [ ] åŠŸèƒ½æµ‹è¯•ï¼ˆå…¨æµç¨‹ï¼‰
- [ ] å¼‚å¸¸æµ‹è¯•
- [ ] è·¨å¹³å°æµ‹è¯•
- [ ] æ€§èƒ½æµ‹è¯•

**Day 4: æ–‡æ¡£ç¼–å†™**
- [ ] ç”¨æˆ·æ‰‹å†Œ
- [ ] å®‰è£…æŒ‡å—
- [ ] FAQ æ–‡æ¡£

**Day 5: å‘å¸ƒ**
- [ ] åˆ›å»º Release ç‰ˆæœ¬
- [ ] ä¸Šä¼ å®‰è£…åŒ…
- [ ] å‘å¸ƒå…¬å‘Š

---

### é‡Œç¨‹ç¢‘

| é‡Œç¨‹ç¢‘ | æ—¶é—´ | äº¤ä»˜ç‰© |
|--------|------|--------|
| M1: é¡¹ç›®åˆå§‹åŒ– | Week 1 | é¡¹ç›®æ¡†æ¶ã€æ¥å£æ–‡æ¡£ |
| M2: åŸºç¡€åŠŸèƒ½ | Week 2 | å‰ç«¯ UIã€åç«¯ API |
| M3: æ ¸å¿ƒåŠŸèƒ½ | Week 3 | ä¸‹è½½åŠŸèƒ½å®Œæ•´å®ç° |
| M4: é›†æˆä¼˜åŒ– | Week 4 | å¯ç”¨çš„åº”ç”¨ç¨‹åº |
| M5: æ­£å¼å‘å¸ƒ | Week 5 | æ­£å¼ç‰ˆæœ¬ v1.0.0 |

---

### é£é™©è¯„ä¼°

#### æŠ€æœ¯é£é™©

**1. yt-dlp å…¼å®¹æ€§é—®é¢˜**
- **é£é™©ï¼š** yt-dlp å‘½ä»¤è¾“å‡ºæ ¼å¼å˜åŒ–
- **åº”å¯¹ï¼š** ä½¿ç”¨ç¨³å®šç‰ˆæœ¬ï¼Œåšå¥½é”™è¯¯å¤„ç†

**2. è·¨å¹³å°å·®å¼‚**
- **é£é™©ï¼š** ä¸åŒç³»ç»Ÿçš„æ–‡ä»¶è·¯å¾„ã€æƒé™é—®é¢˜
- **åº”å¯¹ï¼š** æ—©æœŸè¿›è¡Œè·¨å¹³å°æµ‹è¯•

**3. ä¸‹è½½è¿›åº¦è§£æ**
- **é£é™©ï¼š** å®æ—¶è§£æå‘½ä»¤è¡Œè¾“å‡ºå¯èƒ½ä¸å‡†ç¡®
- **åº”å¯¹ï¼š** ä½¿ç”¨ yt-dlp çš„ JSON è¾“å‡ºæ¨¡å¼

#### è¿›åº¦é£é™©

**1. å¹¶è¡Œå¼€å‘åè°ƒ**
- **é£é™©ï¼š** æ¥å£å˜æ›´å¯¼è‡´è¿”å·¥
- **åº”å¯¹ï¼š** æ¥å£å®šä¹‰é˜¶æ®µå……åˆ†è®¨è®ºï¼Œé”å®šåä¸è½»æ˜“ä¿®æ”¹

**2. å­¦ä¹ æ›²çº¿**
- **é£é™©ï¼š** Rust/Tauri ä¸ç†Ÿæ‚‰å¯¼è‡´è¿›åº¦å»¶è¯¯
- **åº”å¯¹ï¼š** æå‰å­¦ä¹ ï¼Œä½¿ç”¨å®˜æ–¹æ¨¡æ¿å’Œæ–‡æ¡£

---

### å¼€å‘èµ„æº

#### æ–‡æ¡£
- [Tauri å®˜æ–¹æ–‡æ¡£](https://tauri.app/zh-cn/)
- [React æ–‡æ¡£](https://react.dev/)
- [yt-dlp æ–‡æ¡£](https://github.com/yt-dlp/yt-dlp#readme)

#### å·¥å…·
- [Tauri Studio](https://tauri.app/)
- [Rust Playground](https://play.rust-lang.org/)
- [TypeScript Playground](https://www.typescriptlang.org/play)

#### ç¤¾åŒº
- [Tauri Discord](https://discord.com/invite/tauri)
- [yt-dlp GitHub Issues](https://github.com/yt-dlp/yt-dlp/issues)

---

## é™„å½•

### A. æ‰“åŒ…é…ç½®

#### tauri.conf.json å®Œæ•´é…ç½®

```json
{
  "package": {
    "productName": "YouTube Downloader",
    "version": "1.0.0"
  },
  "build": {
    "distDir": "../dist",
    "devPath": "http://localhost:5173",
    "beforeDevCommand": "npm run dev",
    "beforeBuildCommand": "npm run build"
  },
  "tauri": {
    "allowlist": {
      "all": false,
      "shell": {
        "all": false,
        "execute": true,
        "sidecar": true,
        "open": true
      },
      "dialog": {
        "all": false,
        "open": true,
        "save": true
      },
      "fs": {
        "all": false,
        "readFile": true,
        "writeFile": true,
        "createDir": true,
        "removeFile": true,
        "scope": ["$DOWNLOAD/**", "$HOME/Downloads/**"]
      }
    },
    "bundle": {
      "active": true,
      "identifier": "com.ytdlp.desktop",
      "icon": [
        "icons/32x32.png",
        "icons/128x128.png",
        "icons/128x128@2x.png",
        "icons/icon.icns",
        "icons/icon.ico"
      ],
      "targets": ["dmg", "msi"],
      "macOS": {
        "minimumSystemVersion": "10.15",
        "entitlements": null,
        "exceptionDomain": "",
        "frameworks": [],
        "providerShortName": null,
        "signingIdentity": null
      },
      "windows": {
        "certificateThumbprint": null,
        "digestAlgorithm": "sha256",
        "timestampUrl": "",
        "wix": {
          "language": "zh-CN"
        }
      },
      "resources": ["resources/*", "bin/yt-dlp*"],
      "externalBin": ["bin/yt-dlp"]
    },
    "security": {
      "csp": "default-src 'self'; img-src 'self' https: data:; style-src 'self' 'unsafe-inline'"
    },
    "windows": [
      {
        "title": "YouTube Downloader",
        "width": 900,
        "height": 700,
        "minWidth": 800,
        "minHeight": 600,
        "resizable": true,
        "fullscreen": false,
        "center": true
      }
    ]
  }
}
```

### B. package.json é…ç½®

```json
{
  "name": "yt-dlp-desktop",
  "version": "1.0.0",
  "type": "module",
  "scripts": {
    "dev": "vite",
    "build": "tsc && vite build",
    "preview": "vite preview",
    "tauri": "tauri",
    "tauri:dev": "tauri dev",
    "tauri:build": "tauri build",
    "tauri:build:mac": "tauri build --target universal-apple-darwin",
    "tauri:build:win": "tauri build --target x86_64-pc-windows-msvc"
  },
  "dependencies": {
    "@tauri-apps/api": "^1.5.3",
    "react": "^18.2.0",
    "react-dom": "^18.2.0"
  },
  "devDependencies": {
    "@tauri-apps/cli": "^1.5.9",
    "@types/react": "^18.2.45",
    "@types/react-dom": "^18.2.18",
    "@typescript-eslint/eslint-plugin": "^6.15.0",
    "@typescript-eslint/parser": "^6.15.0",
    "@vitejs/plugin-react": "^4.2.1",
    "autoprefixer": "^10.4.16",
    "eslint": "^8.56.0",
    "eslint-plugin-react": "^7.33.2",
    "postcss": "^8.4.32",
    "tailwindcss": "^3.4.0",
    "typescript": "^5.3.3",
    "vite": "^5.0.8"
  }
}
```

### C. å¸¸è§é—®é¢˜

**Q1: Tauri æ‰“åŒ…åä½“ç§¯å¤šå¤§ï¼Ÿ**
A: çº¦ 5-8MBï¼ˆä¸åŒ…å« yt-dlp äºŒè¿›åˆ¶æ–‡ä»¶ï¼‰

**Q2: æ˜¯å¦éœ€è¦ç”¨æˆ·é¢„å®‰è£… yt-dlpï¼Ÿ**
A: ä¸éœ€è¦ï¼Œå°† yt-dlp æ‰“åŒ…è¿›åº”ç”¨

**Q3: å¦‚ä½•å¤„ç† YouTube é“¾æ¥è§£æå¤±è´¥ï¼Ÿ**
A: æ˜¾ç¤ºå‹å¥½çš„é”™è¯¯æç¤ºï¼Œæä¾›é‡è¯•é€‰é¡¹

**Q4: æ˜¯å¦æ”¯æŒæ‰¹é‡ä¸‹è½½ï¼Ÿ**
A: v1.0 æš‚ä¸æ”¯æŒï¼Œå¯åœ¨åç»­ç‰ˆæœ¬æ·»åŠ 

**Q5: å¦‚ä½•æ›´æ–° yt-dlp ç‰ˆæœ¬ï¼Ÿ**
A: æ›¿æ¢ bin ç›®å½•ä¸‹çš„ yt-dlp äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œé‡æ–°æ‰“åŒ…

---

## æ€»ç»“

æœ¬æ–¹æ¡ˆé‡‡ç”¨ **Tauri + React + TypeScript** æŠ€æœ¯æ ˆï¼Œå®ç°ä¸€ä¸ªè½»é‡çº§ã€é«˜æ€§èƒ½çš„è·¨å¹³å° YouTube ä¸‹è½½å™¨æ¡Œé¢åº”ç”¨ã€‚

**æ ¸å¿ƒä¼˜åŠ¿ï¼š**
- âœ… ä½“ç§¯å°ï¼ˆ5-8MBï¼‰
- âœ… æ€§èƒ½å¥½ï¼ˆä½å†…å­˜å ç”¨ï¼‰
- âœ… å¼€å‘æ•ˆç‡é«˜ï¼ˆå‰åç«¯å¹¶è¡Œï¼‰
- âœ… æ˜“äºç»´æŠ¤ï¼ˆTypeScript ç±»å‹å®‰å…¨ï¼‰
- âœ… ç”¨æˆ·ä½“éªŒå¥½ï¼ˆç°ä»£åŒ– UIï¼‰

**é¢„è®¡å¼€å‘å‘¨æœŸï¼š** 5 å‘¨ï¼ˆå¹¶è¡Œå¼€å‘ï¼‰

**ç›®æ ‡å¹³å°ï¼š** macOS 10.15+, Windows 10+

---

**æ–‡æ¡£ç‰ˆæœ¬ï¼š** v1.0
**åˆ›å»ºæ—¥æœŸï¼š** 2025-01-15
**æœ€åæ›´æ–°ï¼š** 2025-01-15
